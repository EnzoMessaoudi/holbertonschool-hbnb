flowchart TB

%% =========================
%% Presentation Layer
%% =========================
subgraph "Presentation Layer"
    API[REST API / Controllers]
    Services[Application Services]
end

%% =========================
%% Business Logic Layer
%% =========================
subgraph "Business Logic Layer"
    
    Facade[HBnB Facade]

    subgraph "Domain Models"
        User[User]
        Place[Place]
        Review[Review]
        Amenity[Amenity]
    end

end

%% =========================
%% Persistence Layer
%% =========================
subgraph "Persistence Layer"
    Repo[Repositories / DAO]
    DB[(Database)]
end

%% =========================
%% Communication (Facade Pattern)
%% =========================

API --> Services
Services --> Facade

Facade --> User
Facade --> Place
Facade --> Review
Facade --> Amenity

User --> Repo
Place --> Repo
Review --> Repo
Amenity --> Repo

Repo --> DB
